#include <stdio.h>
#include <netdb.h>

main(int argc, char *argv[]){
	
	int mySocket,connectt,port;
	int inicio = 0;
	int final = 65535;
	char * destino;
	destino = argv[1];
	struct sockaddr_in trigger;
	
	for(port=inicio; port<final; port++){

	mySocket = socket(AF_INET, SOCK_STREAM, 0);

	trigger.sin_family = AF_INET;

	trigger.sin_port  = htons(port);
	trigger.sin_addr.s_addr = inet_addr(destino);
	
	connectt = connect(mySocket,(struct sockaddr *)&trigger, sizeof trigger);
	
	if(connectt == 0)
	{
		printf("[!] - Port %d - status (Open) \n", port);
		close(mySocket);
                close(connectt);
	}

       else{
		close(mySocket);
		close(connectt);
	}
     }
}
